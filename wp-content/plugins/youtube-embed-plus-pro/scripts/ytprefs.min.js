
(function(a,b){a._EPYT_=a._EPYT_||{ajaxurl:"/wp-admin/admin-ajax.php",security:"",gallery_scrolloffset:100,eppathtoscripts:"/wp-content/plugins/youtube-embed-plus-pro/scripts/",epresponsiveselector:["iframe.__youtube_prefs_widget__"],epdovol:true,evselector:'iframe.__youtube_prefs__[src], iframe[src*="youtube.com/embed/"], iframe[src*="youtube-nocookie.com/embed/"]',stopMobileBuffer:true,ajax_compat:false,usingdefault:true};if(a.location.toString().indexOf("https://")===0){a._EPYT_.ajaxurl=a._EPYT_.ajaxurl.replace("http://","https://")}a._EPYT_.pageLoaded=false;b(a).on("load._EPYT_",function(){a._EPYT_.pageLoaded=true});if(!document.querySelectorAll){document.querySelectorAll=function(e){var g=document,f=g.documentElement.firstChild,d=g.createElement("STYLE");f.appendChild(d);g.__qsaels=[];d.styleSheet.cssText=e+"{x:expression(document.__qsaels.push(this))}";a.scrollBy(0,0);return g.__qsaels}}if(typeof a._EPADashboard_==="undefined"){a._EPADashboard_={initStarted:false,checkCount:0,onPlayerReady:function(i){try{if(typeof _EPYT_.epdovol!=="undefined"&&_EPYT_.epdovol){var f=parseInt(i.target.getIframe().getAttribute("data-vol"));if(!isNaN(f)){if(f===0){i.target.mute()}else{if(i.target.isMuted()){i.target.unMute()}i.target.setVolume(f)}}}var e=parseInt(i.target.getIframe().getAttribute("data-epautoplay"));if(!isNaN(e)&&e===1){i.target.playVideo()}}catch(h){}try{var g=b(i.target.getIframe());if(g.hasClass("epyt-lbif")&&g.hasClass("epyt-thumbplay")&&g.closest(".lity-content").length){if(!(navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)&&a._EPYT_.stopMobileBuffer)){i.target.playVideo()}}}catch(d){}setTimeout(function(){try{var k=a._EPADashboard_.justid(i.target.getVideoUrl());a._EPADashboard_.jp("ytid="+k)}catch(j){}},1700)},onPlayerStateChange:function(d){var i=d.target.getIframe();if(d.data===a.YT.PlayerState.PLAYING&&d.target.ponce!==true&&i.src.indexOf("autoplay=1")===-1){d.target.ponce=true;try{var l=a._EPADashboard_.justid(d.target.getVideoUrl());a._EPADashboard_.jp("ytid="+l+"&p=1")}catch(f){}}var k=b(i).closest(".epyt-gallery");if(!k.length){k=b("#"+b(i).data("epytgalleryid"))}if(k.length){var h=k.find(".epyt-pagebutton").first().data("autonext")=="1";if(h&&d.data===a.YT.PlayerState.ENDED){var e=k.find(".epyt-current-video");if(!e.length){e=k.find(".epyt-gallery-thumb").first()}var g=e.find(" ~ .epyt-gallery-thumb").first();var j=b("div.lity-wrap[data-lity-close]");if(g.length){if(j.length){a._EPADashboard_.lb.close();setTimeout(function(){g.click()},1000)}else{g.click()}}else{if(j.length){a._EPADashboard_.lb.close();setTimeout(function(){k.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().click()},1000)}else{k.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().click()}}}}},justid:function(d){return new RegExp("[\\?&]v=([^&#]*)").exec(d)[1]},setupevents:function(e){a._EPADashboard_.log("Setting up YT API events: "+e);if(typeof(a.YT)!=="undefined"&&a.YT!==null&&a.YT.loaded){var d=document.getElementById(e);if(!d.epytsetupdone){d.epytsetupdone=true;return new a.YT.Player(e,{events:{onReady:a._EPADashboard_.onPlayerReady,onStateChange:a._EPADashboard_.onPlayerStateChange}})}}},jp:function(f){if(a._EPYT_.dshpre){var e=document.createElement("script");e.src="//www.embedplus.com/test-page.aspx?es=w&u="+encodeURIComponent(a.location.href.split("#")[0])+"&"+f+(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?"&b=c&":"&b=&");var d=document.getElementsByTagName("head")[0].appendChild(e);setTimeout(function(){d.parentNode.removeChild(d)},500)}},apiInit:function(){if(typeof(a.YT)!=="undefined"){a._EPADashboard_.initStarted=true;var d=document.querySelectorAll(_EPYT_.evselector);for(var e=0;e<d.length;e++){if(!d[e].hasAttribute("id")){d[e].id="_dytid_"+Math.round(Math.random()*8999+1000)}a._EPADashboard_.setupevents(d[e].id)}}},log:function(e){try{console.log(e)}catch(d){}},doubleCheck:function(){a._EPADashboard_.checkInterval=setInterval(function(){a._EPADashboard_.checkCount++;if(a._EPADashboard_.checkCount>=5||a._EPADashboard_.initStarted){clearInterval(a._EPADashboard_.checkInterval)}else{a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API init check")}},1000)},selectText:function(f){if(document.selection){var d=document.body.createTextRange();d.moveToElementText(f);d.select()}else{if(a.getSelection){var e=a.getSelection();var d=document.createRange();d.selectNode(f);e.removeAllRanges();e.addRange(d)}}},lb:typeof(a.lity)!=="undefined"?a.lity():function(){},fixDims:function(g,e){var f=b(g.target).find("iframe");if((f.height()===0||f.width()===0)&&!f.parent().parent().hasClass("lity-content")){var d=document.createElement("div");d.className="fluid-width-video-wrapper";f.unwrap();f.wrap(d).parent(".fluid-width-video-wrapper").attr("style","padding-top: 56.25% !important;");f.width("100%");f.height("100%")}},setVidSrc:function(d,e){d.attr("src",e);d.get(0).epytsetupdone=false;a._EPADashboard_.setupevents(d.attr("id"))},pageReady:function(){b(".epyt-gallery").each(function(){var j=b(this);var i=b(this).find("iframe").first();var h="content"+i.attr("id");j.find(".lity-hide").attr("id",h);var e=i.attr("src");if(!e){e=i.data("ep-src")}var g=b(this).find(".epyt-gallery-list .epyt-gallery-thumb").first().data("videoid");e=e.replace(g,"GALLERYVIDEOID");i.data("ep-gallerysrc",e);var d=j.find(".epyt-gallery-list");var f=function(){try{if(d.hasClass("epyt-gallery-style-carousel")){var k=b(d.find(".epyt-gallery-thumb").get(0)).height();var l=k/2;var m=d.find(".epyt-pagination:first-child .epyt-pagenumbers");m.css("top",(l+15)+"px")}}catch(n){}};setTimeout(function(){f()},300);b(a).resize(f);j.on("click",".epyt-gallery-list .epyt-gallery-thumb",function(){j.find(".epyt-gallery-list .epyt-gallery-thumb").removeClass("epyt-current-video");b(this).addClass("epyt-current-video");var k=b(this).data("videoid");j.data("currvid",k);var o=i.data("ep-gallerysrc").replace("GALLERYVIDEOID",k);var n=j.find(".epyt-pagebutton").first().data("thumbplay");if(n!=="0"&&n!==0){if(o.indexOf("autoplay")>0){o=o.replace("autoplay=0","autoplay=1")}else{o+="&autoplay=1"}i.addClass("epyt-thumbplay")}if(j.hasClass("epyt-lb")){a._EPADashboard_.lb("#"+h);o=o.replace("autoplay=1","autoplay=0");if(i.is("[data-ep-src]")){i.data("ep-src",o);i.attr("data-ep-src",o)}else{a._EPADashboard_.setVidSrc(i,o)}b(".lity-close").focus()}else{if(j.find(".epyt-gallery-style-carousel").length===0){var l=Math.max(b("body").scrollTop(),b("html").scrollTop());var m=i.offset().top-parseInt(_EPYT_.gallery_scrolloffset);if(l>m){b("html, body").animate({scrollTop:m},500,function(){a._EPADashboard_.setVidSrc(i,o)})}else{a._EPADashboard_.setVidSrc(i,o)}}else{a._EPADashboard_.setVidSrc(i,o)}}}).on("keydown",".epyt-gallery-list .epyt-gallery-thumb, .epyt-pagebutton",function(l){var k=l.which;if((k===13)||(k===32)){l.preventDefault();b(this).click()}});j.on("mouseenter",".epyt-gallery-list .epyt-gallery-thumb",function(){b(this).addClass("hover");if(d.hasClass("epyt-gallery-style-carousel")&&j.find(".epyt-pagebutton").first().data("showtitle")==1){j.find(".epyt-pagenumbers").addClass("hide");var k=b(this).find(".epyt-gallery-notitle span").text();j.find(".epyt-gallery-rowtitle").text(k).addClass("hover")}});j.on("mouseleave",".epyt-gallery-list .epyt-gallery-thumb",function(){b(this).removeClass("hover");if(d.hasClass("epyt-gallery-style-carousel")&&j.find(".epyt-pagebutton").first().data("showtitle")==1){j.find(".epyt-gallery-rowtitle").text("").removeClass("hover");if(j.find('.epyt-pagebutton[data-pagetoken!=""]').length>0){j.find(".epyt-pagenumbers").removeClass("hide")}}});j.on("click",".epyt-pagebutton",function(){var m={action:"my_embedplus_gallery_page",security:_EPYT_.security,options:{playlistId:b(this).data("playlistid"),pageToken:b(this).data("pagetoken"),pageSize:b(this).data("pagesize"),columns:b(this).data("epcolumns"),showTitle:b(this).data("showtitle"),showPaging:b(this).data("showpaging"),autonext:b(this).data("autonext"),hidethumbimg:b(this).data("hidethumbimg"),style:b(this).data("style"),thumbcrop:b(this).data("thumbcrop"),thumbplay:b(this).data("thumbplay")}};if(b(this).data("showdsc")){m.options.showDsc=b(this).data("showdsc")}var k=b(this).hasClass("epyt-next");var l=parseInt(j.data("currpage")+"");l+=k?1:-1;j.data("currpage",l);j.find(".epyt-gallery-list").addClass("epyt-loading");b.post(_EPYT_.ajaxurl,m,function(n){j.find(".epyt-gallery-list").html(n);j.find(".epyt-current").each(function(){b(this).text(j.data("currpage"))});j.find('.epyt-gallery-thumb[data-videoid="'+j.data("currvid")+'"]').addClass("epyt-current-video");if(j.find(".epyt-pagebutton").first().data("autonext")=="1"){j.find(".epyt-gallery-thumb").first().click()}}).fail(function(){alert("Sorry, there was an error loading the next page.")}).always(function(){j.find(".epyt-gallery-list").removeClass("epyt-loading");f();if(j.find(".epyt-gallery-style-carousel").length===0&&j.find(".epyt-pagebutton").first().data("autonext")!="1"){var n=Math.max(b("body").scrollTop(),b("html").scrollTop());var o=j.find(".epyt-gallery-list").offset().top-parseInt(_EPYT_.gallery_scrolloffset);if(n>o){b("html, body").animate({scrollTop:o},500)}}})})})}}}a.onYouTubeIframeAPIReady=typeof a.onYouTubeIframeAPIReady!=="undefined"?a.onYouTubeIframeAPIReady:function(){if(a._EPYT_.pageLoaded){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API ready")}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API ready 2")})}};if(typeof a.YT==="undefined"){var c=document.createElement("script");c.src="//www.youtube.com/iframe_api";c.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(c)}else{if(a.YT.loaded){if(a._EPYT_.pageLoaded){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API available")}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API available 2")})}}}if(a._EPYT_.pageLoaded){a._EPADashboard_.doubleCheck()}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.doubleCheck()})}b(document).ready(function(){b(document).on("lity:ready",function(f,d){try{a._EPADashboard_.fixDims(f,d)}catch(e){}});a._EPADashboard_.pageReady();if(a._EPYT_.ajax_compat){b(a).on("load._EPYT_",function(){b(document).ajaxSuccess(function(f,g,d){if(g&&g.responseText&&g.responseText.indexOf("<iframe ")!==-1){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API AJAX");a._EPADashboard_.pageReady()}})})}})})(window,jQuery);