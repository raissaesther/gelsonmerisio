
window._EPYTWIZ_=window._EPYTWIZ_||{};(function(b,a){b.fn.followTo=function(f,c){var d=this,e=b(window);e.scroll(function(g){if(e.scrollTop()>f){d.css({position:"absolute",top:f})}else{d.css({position:"fixed",top:c})}})};window._EPYTWIZ_.selectText=window._EPYTWIZ_.selectText||function(e){if(document.selection){var c=document.body.createTextRange();c.moveToElementText(e);c.select()}else{if(window.getSelection){var d=window.getSelection();var c=document.createRange();c.selectNode(e);d.removeAllRanges();d.addRange(c)}}};window._EPYTWIZ_.loadmovieplain=window._EPYTWIZ_.loadmovieplain||function(c){var d='<iframe width="600" height="368" src="//www.youtube.com/embed/~ytid?showinfo=0&autoplay=1" frameborder="0" allowfullscreen ></iframe>';d=d.replace(/~ytid/g,c);b("#watch"+c).html(d);b("#closeme"+c).css("display","inline");b("#moviecontainer"+c).css("display","block");if(document.getElementById("scrollwatch"+c)){setTimeout(function(){b("html, body").animate({scrollTop:b("#scrollwatch"+c).offset().top-50},250,function(){})},800)}};window._EPYTWIZ_.closeme=window._EPYTWIZ_.closeme||function(c){b("#moviecontainer"+c).css("display","none");b("#watch"+c).html("")};b(document).ready(function(){b(".wiz-accordion").accordion({header:"h3",collapsible:true,active:false,icons:{header:"ui-icon-circle-arrow-e",activeHeader:"ui-icon-circle-arrow-s"},heightStyle:"content",autoHeight:false}).find("h3.header-go").click(function(){window.open(b(this).find("a").attr("href"),"_blank");return false});b(".playlist-tabs").tabs();if(window._EPYTWIZ_.acc_expand){b(".wiz-accordion #"+window._EPYTWIZ_.acc_expand).click()}b("form.wizform").each(function(){$thisForm=b(this);$thisForm.find(".txturlpastecustom").on("paste",function(){$thisTxtUrl=b(this);setTimeout(function(){var e=b.trim($thisTxtUrl.val());var d=/<.*/i;if(d.test(e)){var f=new RegExp("(?:https?://)?(?:www\\.)?(?:youtu\\.be/|youtube\\.com(?:/embed/|/v/|/watch\\?v=))([\\w-]{10,12})","ig");var g=f.exec(e);if(g){var h=g[1];$thisTxtUrl.val("https://www.youtube.com/watch?v="+h)}else{$thisTxtUrl.val("https://www.youtube.com/watch?v=")}$thisForm.find(".badpaste").show()}else{$thisForm.find(".badpaste").hide()}},100)})});var c=b("#epyt_wiz_wrap");c.on("click",".copycode",function(){window._EPYTWIZ_.selectText(this)});c.on("click",".inserttopost",function(){var d=window.location.toString().split("/")[0]+"//"+window.location.toString().split("/")[2];var e=b(this).attr("rel");parent.postMessage("youtubeembedplus|"+e,d)});c.on("click",".resultdiv .load-movie",function(){window._EPYTWIZ_.loadmovieplain(b(this).closest(".resultdiv").data("vid"));return false});c.on("click",".moviecontainer a.closeme",function(){window._EPYTWIZ_.closeme(b(this).data("vid"))});c.on("click",".btn-customize-step",function(){c.addClass("animated fadeOutLeft");setTimeout(function(){c.hide(0,function(){b("#ep-wizard-customizer").css("display","block").addClass("animated fadeInUp");var d=b(".wizoptionbox").height();b("#ytpreviewbox").followTo(d-250,"auto")})},500)})});a.module("YouTubeWizardApp",[]).directive("convertToNumber",function(){return{require:"ngModel",link:function(e,d,c,f){f.$parsers.push(function(g){return g!=null?parseInt(g,10):null});f.$formatters.push(function(g){return g!=null?""+g:null})}}}).controller("YouTubeWizardController",["$scope","$sce",function(d,c){d.canInputRange=function(){var e=document.createElement("input");e.setAttribute("type","range");return e.type!=="text"};d.selectAllText=function(f){f.target.focus();f.target.select()};d.selectHeight=function(){if(d.model.selheight==="16-9"){d.model.height=Math.round((9*d.model.width)/16)}else{if(d.model.selheight==="4-3"){d.model.height=Math.round((3*d.model.width)/4)}else{if(d.model.selheight==="best-fit"){d.model.height=Math.round(d.model.aspect_ratio*d.model.width)}}}};d.padZeroTime=function(e){var f="0000"+(e||0);return f.substr(f.length-2)};d.timeColons=function(e,g,f){return d.padZeroTime(e)+":"+d.padZeroTime(g)+":"+d.padZeroTime(f)};d.getSecsFromTimePicker=function(e,g,f){return((e?e:0)*3600)+((g?g:0)*60)+(f?f:0)};d.centervidChange=function(){d.model.centervid=parseInt(d.model.centervid)===0?1:0};d.autoplayChange=function(){d.model.autoplay=parseInt(d.model.autoplay)===0?1:0};d.cc_load_policyChange=function(){d.model.cc_load_policy=parseInt(d.model.cc_load_policy)===0?1:0};d.iv_load_policyChange=function(){d.model.iv_load_policy=parseInt(d.model.iv_load_policy)===3?1:3};d.loopChange=function(){d.model.loop=parseInt(d.model.loop)===0?1:0};d.modestbrandingChange=function(){d.model.modestbranding=parseInt(d.model.modestbranding)===0?1:0};d.relChange=function(){d.model.rel=parseInt(d.model.rel)===0?1:0};d.showinfoChange=function(){d.model.showinfo=parseInt(d.model.showinfo)===0?1:0};d.fsChange=function(){d.model.fs=parseInt(d.model.fs)===0?1:0};d.controlsChange=function(){d.model.controls=parseInt(d.model.controls)===0?2:0};d.defaultvolChange=function(){d.model.defaultvol=parseInt(d.model.defaultvol)===0?1:0};d.gallery_showtitleChange=function(){d.model.gallery_showtitle=parseInt(d.model.gallery_showtitle)===0?1:0};d.gallery_showpagingChange=function(){d.model.gallery_showpaging=parseInt(d.model.gallery_showpaging)===0?1:0};d.gallery_autonextChange=function(){d.model.gallery_autonext=parseInt(d.model.gallery_autonext)===0?1:0};d.gallery_showdscChange=function(){d.model.gallery_showdsc=parseInt(d.model.gallery_showdsc)===0?1:0};d.gallery_hidethumbimgChange=function(){d.model.gallery_hidethumbimg=parseInt(d.model.gallery_hidethumbimg)===0?1:0};d.iframePreviewUrl=function(){var e=d.model.if_live_preview||d.model.theytid;if(d.model.submit_type=="step1_channel"){e=""}return c.trustAsResourceUrl("https://www.youtube.com/embed/"+(e?e:"")+"?"+(d.model.theplaylistid?"list="+d.model.theplaylistid:""))};d.getCodeStep=function(){var e=b(".container-step-customize");e.addClass("animated fadeOutLeft");setTimeout(function(){e.hide(0,function(){b(".container-step-get-code").css("display","block").addClass("animated fadeInUp")})},500)};d.editStep=function(){var e=b(".container-step-get-code");e.removeClass("fadeInUp");setTimeout(function(){e.hide(0,function(){b(".container-step-customize").css("display","block").removeClass("animated fadeOutLeft")})},500)};d.finalTitle=function(){return(d.model.final_title_prefix?d.model.final_title_prefix+(d.model.theplaylistid&&d.model.gallery_style?" (Gallery Layout)":"")+" - ":"")+d.model.final_title};d.embedCode=function(){var f="https://www.youtube.com/watch?v=~ytid";var g="";if(d.model.submit_type==="step1_channel"){f="https://www.youtube.com/embed?listType=playlist"}else{if(d.model.submit_type==="step1_live"){f="https://www.youtube.com/embed?live=1&channel="+d.model.thechannelid}}var i=d.getSecsFromTimePicker(d.model.startHours,d.model.startMins,d.model.startSecs);var h=d.getSecsFromTimePicker(d.model.stopHours,d.model.stopMins,d.model.stopSecs);if(i>0||d.model.alsoStop||(h>0)){if(i>0){g+="&start="+i}if(d.model.alsoStop&&h>0){g+="&end="+h}}if(d.model.defaultvol){g+="&vol="+d.model.vol}g+="&width="+d.model.width;g+="&height="+d.model.height;if(d.model.iv_load_policy!=d.myytdefaults.iv_load_policy){g+="&iv_load_policy="+d.model.iv_load_policy}if(d.model.autoplay!=d.myytdefaults.autoplay){g+="&autoplay="+d.model.autoplay}if(d.model.cc_load_policy!=d.myytdefaults.cc_load_policy){g+="&cc_load_policy="+d.model.cc_load_policy}if(d.model.centervid!=d.myytdefaults.centervid){g+="&centervid="+d.model.centervid}if(d.model.loop!=d.myytdefaults.loop&&!d.model.doing_live){g+="&loop="+d.model.loop}if(d.model.rel!=d.myytdefaults.rel){g+="&rel="+d.model.rel}if(d.model.showinfo!=d.myytdefaults.showinfo){g+="&showinfo="+d.model.showinfo}if(d.model.fs!=d.myytdefaults.fs){g+="&fs="+d.model.fs}if(d.model.modestbranding!=d.myytdefaults.modestbranding){g+="&modestbranding="+d.model.modestbranding}if(d.model.controls!=d.myytdefaults.controls){g+="&controls="+d.model.controls}if(d.model.theplaylistid){g+="&listType=playlist";g+="&list="+d.model.theplaylistid;if(d.model.rblPlaylistStart=="0"){g+="&plindex=0"}}if(d.model.gallery_style!=""){g+="&layout=gallery";if(d.model.gallery_style!="grid"||d.myytdefaults.gallery_style!="grid"){g+="&gallery_style="+d.model.gallery_style}if(d.model.gallery_pagesize!=d.myytdefaults.gallery_pagesize){g+="&gallery_pagesize="+d.model.gallery_pagesize}if(d.model.gallery_disptype!=d.myytdefaults.gallery_disptype){g+="&gallery_disptype="+d.model.gallery_disptype}if(d.model.gallery_thumbcrop!=d.myytdefaults.gallery_thumbcrop){g+="&gallery_thumbcrop="+d.model.gallery_thumbcrop}if(d.model.gallery_showtitle!=d.myytdefaults.gallery_showtitle){g+="&gallery_showtitle="+d.model.gallery_showtitle}if(d.model.gallery_autonext!=d.myytdefaults.gallery_autonext){g+="&gallery_autonext="+d.model.gallery_autonext}if(d.model.gallery_showpaging!=d.myytdefaults.gallery_showpaging){g+="&gallery_showpaging="+d.model.gallery_showpaging}if(d.model.gallery_style=="listview"){if(d.model.gallery_showdsc!=d.myytdefaults.gallery_showdsc){g+="&gallery_showdsc="+d.model.gallery_showdsc}}if(d.model.gallery_style!="carousel"){if(d.model.gallery_hidethumbimg!=d.myytdefaults.gallery_hidethumbimg){g+="&gallery_hidethumbimg="+d.model.gallery_hidethumbimg}}if(d.model.gallery_columns!=d.myytdefaults.gallery_columns){g+="&gallery_columns="+d.model.gallery_columns}}f=f.replace("v=~ytid",(d.model.theytid?"v="+d.model.theytid:""));var e=f+g;return"[embedyt] #[/embedyt]".replace("#",e)};d.insertFinalCode=function(){var e=d.embedCode();var g=e.replace(/[&]/ig,"&amp;");var f=window.location.toString().split("/")[0]+"//"+window.location.toString().split("/")[2];parent.postMessage("youtubeembedplus|"+g,f)};d.myytdefaults=window._EPYTWIZ_.myytdefaults;d.model=window._EPYTWIZ_.model;d.model.gallery_style="";d.model.rblPlaylistStart="0";d.selectHeight()}])})(jQuery,angular);